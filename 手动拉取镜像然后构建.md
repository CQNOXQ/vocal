# 手动拉取镜像然后构建

## 在服务器上依次执行

### 1. 先手动拉取镜像（不带版本号，使用最新稳定版）

```bash
docker pull eclipse-temurin:21-jre
docker pull eclipse-temurin:21-jdk
docker pull mysql:8.0
docker pull nginx:alpine
docker pull node:18-alpine
```

### 2. 修改后端 Dockerfile 使用可用镜像

```bash
cd /opt/vocal
nano backend/Dockerfile
```

**修改第 2 行和第 20 行**：
- 第 2 行：`FROM openjdk:21-jdk AS builder` → `FROM eclipse-temurin:21-jdk AS builder`
- 第 20 行：`FROM openjdk:21-jre-slim` → `FROM eclipse-temurin:21-jre`

### 3. 保存后构建

```bash
docker compose up -d --build
```

## 或者：修改后推送到 GitHub

我来帮你修改 Dockerfile 并推送。

